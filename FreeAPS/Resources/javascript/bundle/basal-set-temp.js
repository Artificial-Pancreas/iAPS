var freeaps_basalSetTemp;(()=>{var a={559:(a,e,r)=>{"use strict";function t(a,e){a.reason=(a.reason?a.reason+". ":"")+e,console.error(e)}var i={getMaxSafeBasal:function(a){var e=isNaN(a.max_daily_safety_multiplier)||null===a.max_daily_safety_multiplier?3:a.max_daily_safety_multiplier,r=isNaN(a.current_basal_safety_multiplier)||null===a.current_basal_safety_multiplier?4:a.current_basal_safety_multiplier;return Math.min(a.max_basal,e*a.max_daily_basal,r*a.current_basal)},setTempBasal:function(a,e,n,s,o){var l=i.getMaxSafeBasal(n);a<0?a=0:a>l&&(a=l);var u=r(760)(a,n);return void 0!==o&&void 0!==o.duration&&void 0!==o.rate&&o.duration>e-10&&o.duration<=120&&u<=1.2*o.rate&&u>=.8*o.rate&&e>0?(s.reason+=" "+o.duration+"m left and "+o.rate+" ~ req "+u+"U/hr: no temp required",s):u===n.current_basal?!0===n.skip_neutral_temps?void 0!==o&&void 0!==o.duration&&o.duration>0?(t(s,"Suggested rate is same as profile rate, a temp basal is active, canceling current temp"),s.duration=0,s.rate=0,s):(t(s,"Suggested rate is same as profile rate, no temp basal is active, doing nothing"),s):(t(s,"Setting neutral temp basal of "+n.current_basal+"U/hr"),s.duration=e,s.rate=u,s):(s.duration=e,s.rate=u,s)}};a.exports=i},760:(a,e)=>{a.exports=function(a,e){var r=20;void 0!==e&&"string"==typeof e.model&&(e.model?.endsWith("54")||e.model?.endsWith("23"))&&(r=40);return a<1?Math.round(a*r)/r:a<10?Math.round(20*a)/20:Math.round(10*a)/10}}},e={};var r=function r(t){var i=e[t];if(void 0!==i)return i.exports;var n=e[t]={exports:{}};return a[t](n,n.exports,r),n.exports}(559);freeaps_basalSetTemp=r})();